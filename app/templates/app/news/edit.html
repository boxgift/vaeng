{% extends 'base.html' %}


{% block title %}
    Edit news
{% endblock %}

{% block head %}
    <script src="https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js"></script>
{% endblock %}

{% block title_section %}

{% endblock %}


{% block content_section %}
    <section class="ls s-pt-55 s-pb-55 s-pt-lg-95 s-pb-lg-95">
        <div class="container">
            <div class="row">
                <main class="col-lg-12">
                    <article>
                        <!-- .entry-header -->
                        <div class="entry-content">
                            <div class="woocommerce">

                                <!--
    <div class="woocommerce-message">Are you sure you want to log out? <a
        href="shop-account-login.html">Confirm and log out</a>
    </div>
    -->

                                <form action="" class="woocomerce-form woocommerce-form-login login text-center"
                                      method="post">
                                    {% csrf_token %}
                                    <p></p>
                                    <p class="woocommerce-form-row woocommerce-form-row--wide form-row form-row-wide">
                                        <label for="title">News title <span class="required">*</span>
                                        </label>
                                        <input type="text"
                                               class="woocommerce-Input woocommerce-Input--text input-text"
                                               name="title" id="title" placeholder=""
                                               value="{{ page.title|default:page.name }}">
                                    </p>
                                    <p class="woocommerce-form-row woocommerce-form-row--wide form-row form-row-wide">
                                        <label for="url">News url <span class="required">*</span>
                                        </label>
                                        <input type="text"
                                               class="woocommerce-Input woocommerce-Input--text input-text"
                                               name="url" id="url" placeholder="" value="{{ page.url }}">
                                    </p>
                                    <p class="woocommerce-form-row woocommerce-form-row--wide form-row form-row-wide">
                                        <label for="meta">News meta <span class="required">*</span>
                                        </label>
                                        <textarea
                                                class="woocommerce-Input woocommerce-Input--text input-text"
                                                name="meta" id="meta"
                                                placeholder="">{{ page.meta|default:'' }}</textarea>
                                    </p>
                                    <p class="woocommerce-form-row woocommerce-form-row--wide form-row form-row-wide">
                                        <label for="name">News name <span class="required">*</span>
                                        </label>
                                        <input type="text"
                                               class="woocommerce-Input woocommerce-Input--text input-text"
                                               name="name" id="name" placeholder="" value="{{ page.name }}">
                                    </p>
                                    <p class="woocommerce-form-row woocommerce-form-row--wide form-row form-row-wide ckeditor_wrap">
                                        <label for="content">News content <span class="required">*</span>
                                        </label>
                                        <textarea id="page_content"
                                                  class="woocommerce-Textarea woocommerce-Textarea--text input-text "
                                                  name="content" placeholder="">{{ page.content }}</textarea>
                                    </p>
                                    <p>
                                        <select name="category" class="select" id="">
                                            {% for category in categories %}
                                                <option value="{{ category.id }}"
                                                        {% if page.category == category %}selected{% endif %}>{{ category.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </p>
                                    <div class="tags">
                                        {% for tag in tags %}
                                            <div class="tag">
                                                <input type="checkbox" name="tag_{{ tag.pk }}"
                                                       {% if tag in page.tags.all %}checked{% endif %}
                                                       id="tag_{{ tag.pk }}">
                                                <label for="tag_{{ tag.pk }}"
                                                       class="btn btn-outline-success">{{ tag.name }}</label>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <hr>
                                    <p class="form-row">
                                        <button type="submit" class="woocommerce-Button button" value="Edit">Edit
                                        </button>
                                    </p>
                                </form>
                            </div>
                        </div>
                        <!-- .entry-content -->
                    </article>


                </main>
            </div>
        </div>
    </section>
{% endblock %}

{% block script %}
    <script>
        ClassicEditor
            .create(document.querySelector('#page_content'))
            .catch(error => {
                console.error(error);
            });
    </script>
{% endblock %}